# P57-001: Multi-Job Workflows

## Completed
- **P57-001a**: Split `workflows.go` into `workflows.go` (engine: 433 lines) + `workflows_msg.go` (message building: 352 lines). Moved `dictContextData`, `varVal`, `varSecret`, `truncateDisplay` from `jobs.go`.
- **P57-001b**: Output capture — `outputs.go` extracts `outputVariables` from FinishJob body, resolves against `JobDef.Outputs` expressions, stores on `WorkflowJob.Outputs`. 6 new tests.
- **P57-001c**: `continue-on-error` — Added to `JobDef`, `rawJobDef`, `WorkflowJob`. `dispatchReadyJobs` skips dep failure when dep has `ContinueOnError`. 2 new tests.
- **P57-001d**: `max-parallel` — `MatrixGroup` on `WorkflowJob`, `MaxParallel` on `Workflow`. Counts queued/running in same group, skips dispatch at limit. 2 new tests.
- **P57-001e**: Job timeout — `TimeoutMinutes` on `JobDef`, `StartedAt` on `WorkflowJob`. Background goroutine checks every 30s, cancels timed-out jobs. 1 new test.

## Files
- New: `bleephub/workflows_msg.go`, `bleephub/outputs.go`, `bleephub/outputs_test.go`
- Modified: `bleephub/workflows.go`, `bleephub/workflow.go`, `bleephub/jobs.go`, `bleephub/run_service.go`
- Tests: 11 new
