# P25-003: Set up gitlab-ci-local upstream test infrastructure

**Status:** DONE
**Phase:** 25

## Summary

Added gitlab-ci-local as a second upstream test source. Since gitlab-ci-local's own test suite mocks Docker calls (`initSpawnSpy`), we run gitlab-ci-local as a CLI tool against sample `.gitlab-ci.yml` files with `DOCKER_HOST` pointing at Sockerless.

The test suite creates 12 .gitlab-ci.yml test cases covering:
- Simple echo, multi-step scripts, environment variables
- Before/after scripts, multiple jobs, working directory
- Exit code handling, allow_failure, stages
- Variable expansion, rules, artifacts scripts

## Files Created
- `tests/upstream/gitlab-ci-local/Dockerfile` — Builds Sockerless memory backend + installs Bun + Docker CLI + gitlab-ci-local source
- `tests/upstream/gitlab-ci-local/run.sh` — Starts Sockerless, creates test cases, runs gitlab-ci-local CLI against each
- `tests/upstream/gitlab-ci-local/results/` — Results directory

## Files Modified
- `Makefile` — Added `upstream-test-gitlab-ci-local` target
