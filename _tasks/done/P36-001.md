# P36 — bleephub: Users, Auth + GraphQL Engine

## Status: DONE

## Tasks Completed

| Task | Description | Status |
|---|---|---|
| P36-001 | User, Token, DeviceCode types in store + SeedDefaultUser | Done |
| P36-002 | GitHub API headers middleware (auth context + response headers) | Done |
| P36-003 | REST endpoints: /api/v3/, /user, /users/{username}, /rate_limit | Done |
| P36-004 | OAuth device flow: /login/device/code, /login/oauth/access_token | Done |
| P36-005 | GraphQL engine (graphql-go/graphql) + viewer query | Done |
| P36-006 | Server wiring: routes, middleware chain, schema init, go.mod | Done |
| P36-007 | 12 unit tests in gh_test.go (20 total with existing 8) | Done |
| P36-008 | gh CLI validation (gh api with explicit URLs) | Done |
| P36-009 | Save state (PLAN, STATUS, WHAT_WE_DID, DO_NEXT, MEMORY, tasks) | Done |

## Files Modified/Created

| File | Action | Lines |
|---|---|---|
| bleephub/store.go | Modified | ~170 |
| bleephub/gh_middleware.go | New | ~100 |
| bleephub/gh_rest.go | New | ~115 |
| bleephub/gh_oauth.go | New | ~95 |
| bleephub/gh_graphql.go | New | ~90 |
| bleephub/server.go | Modified | ~170 |
| bleephub/go.mod | Modified | +1 dep |
| bleephub/gh_test.go | New | ~240 |

## Verification

- `cd bleephub && go build ./...` — compiles
- `cd bleephub && go test -v ./...` — 20 PASS
- `make lint` — 0 issues in new code
- `gh api` with explicit URLs works against bleephub
- All existing tests unchanged and passing
