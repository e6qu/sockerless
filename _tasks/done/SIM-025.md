# SIM-025: Spawn agent subprocess in AWS simulator (ECS RunTask)

**Status:** DONE
**Effort:** M

## What Changed

When an ECS task starts and its env contains `SOCKERLESS_AGENT_CALLBACK_URL`, the
AWS simulator now spawns `sockerless-agent --callback <URL> --keep-alive -- tail -f /dev/null`
as a subprocess. Agent-managed tasks skip the 3s auto-stop timer. Agent processes
are cleaned up on StopTask.

## Files Modified

- `simulators/aws/ecs.go` â€” Added `ecsAgentProcs sync.Map`, agent spawn in RunTask
  goroutine, cleanup in StopTask handler, helper functions `ecsGetAgentCallbackURL`,
  `ecsStartAgentProcess`, `ecsStopAgentProcess`
