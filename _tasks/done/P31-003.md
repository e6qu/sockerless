# P31-003: Unit tests for new builtins

**Phase:** 31
**Status:** Done
**Date:** 2026-02-21

## What

Added 16 unit tests (4 pwd + 12 builtins), bringing sandbox test count from 30 to 46.

## Tests

- `TestDefaultsRunPwdCheck` — pwd returns container path in workdir
- `TestWorkdirPwdBashTest` — `[[ ]]` bash-style pwd check
- `TestPwdInCommandSubstitution` — `$(pwd)` in expressions
- `TestPwdStandaloneWithWorkDir` — standalone pwd with workdir
- `TestTouchBuiltin` — create file, verify exists
- `TestBase64Builtin` — encode + decode roundtrip
- `TestBasenameBuiltin` — extract filename from path
- `TestDirnameBuiltin` — extract directory, handles trailing slashes
- `TestWhichBuiltin` — finds builtins and applets
- `TestSeqBuiltin` — number sequences (1, 2, 3 args)
- `TestReadlinkBuiltin` — resolve symlinks within rootDir
- `TestTeeBuiltin` — stdin to file + stdout
- `TestLnBuiltin` — create symlinks
- `TestStatBuiltin` — file size and type format strings
- `TestSha256sumBuiltin` — file checksum
- `TestMd5sumBuiltin` — file checksum

## Files Changed

- `sandbox/sandbox_test.go`
