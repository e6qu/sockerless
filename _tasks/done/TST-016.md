# TST-016: Extend runner E2E tests to multi-backend subtest pattern

**Status:** DONE
**Effort:** M

## What Changed

Refactored all 5 runner E2E tests (2 GitLab, 3 GitHub) to use a shared
`availableRunnerClients(t)` helper that returns all reachable runner-capable
backends. Each test iterates the map with `t.Run(name, ...)`.

Memory backend is always included; cloud backends (ECS, Cloud Run, ACA, Docker)
are added when their `SOCKERLESS_*_SOCKET` env var is set.

## Files Modified

- `tests/helpers_test.go` — Added `availableRunnerClients()`, moved and updated
  `generateTestID()` to accept optional backend name parts (variadic)
- `tests/gitlab_runner_e2e_test.go` — Removed `gitlabRunnerClient()` and
  `generateTestID()`, wrapped both tests in subtest loop
- `tests/github_runner_e2e_test.go` — Removed `githubRunnerClient()`, wrapped
  all 3 tests in subtest loop, relaxed assertions for memory backend (echoes
  commands vs executing them)

## What Was Removed

- `gitlabRunnerClient()` function
- `githubRunnerClient()` function
- `SOCKERLESS_GITLAB_E2E` env var check
- `SOCKERLESS_GITHUB_E2E` env var check

## Test Results

- Before: 53 PASS, 44 SKIP (5 runner tests gated behind env vars)
- After: 63 PASS, 39 SKIP (5 runner tests always run against memory)
- Race detector: clean
- go vet: clean
