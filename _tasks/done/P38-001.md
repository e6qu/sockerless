# P38-001: Organizations + Teams + RBAC

**Phase:** 38
**Status:** Complete
**Date:** 2026-02-22

## What Was Done

Implemented organization accounts, team management, memberships, and role-based access control for bleephub.

### Files Created (7)
- `bleephub/store_orgs.go` — Org, Membership, Team types + 18 CRUD methods
- `bleephub/gh_orgs_rest.go` — REST org endpoints (create/get/update/delete/list + org repos)
- `bleephub/gh_teams_rest.go` — REST team endpoints (CRUD)
- `bleephub/gh_members_rest.go` — REST membership/team member/team repo endpoints
- `bleephub/rbac.go` — Permission checking (canReadRepo, canWriteRepo, canAdminRepo, canAdminOrg)
- `bleephub/gh_orgs_graphql.go` — GraphQL Organization type + viewer.organizations + organization query
- `bleephub/gh_orgs_test.go` — 18 unit tests

### Files Modified (4)
- `bleephub/store.go` — New maps + counters
- `bleephub/server.go` — Route registration
- `bleephub/gh_graphql.go` — Schema wiring
- `bleephub/gh_repos_rest.go` — RBAC enforcement on repo ops

## Test Results
- 51 unit tests pass (33 existing + 18 new)
- 0 lint issues
- All `gh api` commands work for org/team operations

## Learnings
- graphql-go requires globally unique type names — use prefixed names like `OrgPageInfo`
- RBAC hierarchy: pull < push < admin; teams grant minimum permission on assigned repos
- Team slug auto-generation: lowercase + spaces→hyphens
