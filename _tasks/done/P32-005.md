# P32-005: Remove ProcessFactory from BaseServer (handler-visible surface)

**Phase:** 32A (Driver Interface Extension)
**Depends on:** P32-001, P32-002, P32-003, P32-004
**Estimated effort:** S

---

## Description

After P32-001 through P32-004, no handler code should reference `s.ProcessFactory` or `s.Store.Processes`. Verify this is true, and consider whether `ProcessFactory` can be removed from `BaseServer` entirely (it would only live in the driver implementations).

## What to Do

### 1. Grep verification

Run:
```bash
grep -n 'ProcessFactory' backends/core/handle_*.go
grep -n 'Store\.Processes' backends/core/handle_*.go
```

Both should return zero results.

### 2. Evaluate moving ProcessFactory off BaseServer

Currently `BaseServer.ProcessFactory` is set by `backends/memory/adapter.go` and used by `InitDrivers()`. If we move it:
- `InitDrivers()` would take `ProcessFactory` as a parameter instead of reading from `s.ProcessFactory`
- `BaseServer` struct would no longer have the field
- Cloud backends (which never set it) would be unaffected

**However:** This may be too disruptive if other backends reference it. If so, just document that `ProcessFactory` is a construction-time field only, never accessed by handlers.

### 3. Final audit

Confirm that the ONLY code accessing `Store.Processes` is in `drivers_process.go` (the WASM driver implementations). This is the correct encapsulation.

## Acceptance Criteria

1. `grep 'ProcessFactory' backends/core/handle_*.go` returns 0 matches
2. `grep 'Store\.Processes' backends/core/handle_*.go` returns 0 matches
3. All tests pass: `make test`, `make lint`, `make sim-test-all`
4. Decision documented on whether `ProcessFactory` stays on `BaseServer` or moves to `InitDrivers()` parameter

## After Completing

Update `_tasks/done/P32-005.md`. Update `STATUS.md`. Update `PLAN.md` Phase 32 Part A status.
