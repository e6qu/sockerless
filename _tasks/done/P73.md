# Phase 73 — UI Foundation + Shared Core + Memory Backend Dashboard

**Status:** Complete (15/15 tasks)
**Date:** 2026-03-02

## Tasks Completed

| Task | Description |
|---|---|
| P73-001 | Monorepo scaffold: `ui/package.json` (Bun workspaces), `turbo.json`, `tsconfig.base.json` |
| P73-002 | Core package init: `@sockerless/ui-core` with vitest, testing-library, jsdom |
| P73-003 | API client + types: `ApiClient` class, 8 TS interfaces mirroring Go structs |
| P73-004 | TanStack Query hooks: 7 hooks (health, status, containers, metrics, resources, check, info) |
| P73-005 | Shared layout: AppShell, StatusBadge, MetricsCard, RefreshButton, ErrorBoundary, Spinner |
| P73-006 | DataTable: TanStack Table 8 with sorting, filtering, Tailwind styling |
| P73-007 | Memory SPA init: Vite 6.4 + React Router 7 + Tailwind 4, dev proxy to :9100 |
| P73-008 | Dashboard pages: OverviewPage, ContainersPage, ResourcesPage, MetricsPage |
| P73-009 | SPAHandler: `backends/core/ui_handler.go` with index.html fallback, 5 Go tests |
| P73-010 | RegisterUI: `BaseServer.RegisterUI(fs.FS)` method, `/ui/` route + root redirect |
| P73-011 | Memory embed: `ui_embed.go` (`!noui` tag), `ui_noembed.go` (`noui` tag) |
| P73-012 | Build integration: Makefile targets (ui-build, ui-test, build-memory-with-ui, etc.) |
| P73-013 | Vitest tests: 12 tests (6 client + 3 hooks + 3 DataTable) |
| P73-014 | CI: `ui` job with `oven-sh/setup-bun`, `-tags noui` for build-check jobs |
| P73-015 | Verification: 307 redirect, SPA HTML, fallback routing, API coexistence confirmed |

## New Files

- `ui/package.json`, `ui/turbo.json`, `ui/tsconfig.base.json`
- `ui/packages/core/` — package.json, tsconfig.json, vitest.config.ts, src/ (api/, hooks/, components/, __tests__/)
- `ui/packages/backend-memory/` — package.json, vite.config.ts, tsconfig.json, index.html, src/ (main.tsx, App.tsx, index.css, pages/)
- `backends/core/ui_handler.go`, `backends/core/ui_handler_test.go`
- `backends/memory/ui_embed.go`, `backends/memory/ui_noembed.go`

## Modified Files

- `backends/core/server.go` — Added `RegisterUI(fs.FS)` method, `import "io/fs"`
- `backends/memory/server.go` — Added `registerUI(s)` call
- `Makefile` — Added ui-* targets
- `.github/workflows/ci.yml` — Added `ui` job, `-tags noui` for memory build-check
- `.gitignore` — Added ui/ and backends/memory/dist/ entries

## Test Results

- Go: 5 SPAHandler tests PASS
- Vitest: 12 tests PASS (3 test files)
- Build: turbo build succeeds (core typecheck + vite build)
- Embed: memory binary with UI serves SPA correctly
- noui: memory binary builds without dist/
