# GAP-002: ECS Exec Test Timing Fix

**Status:** DONE
**Phase:** 9 — Simulator Gap Fixes

## Problem

`TestECSContainerExec` had `time.Sleep(5 * time.Second)` but the simulator auto-stops after 3s. By the time exec ran, the container was already stopped. Additionally, the test used a single `Read` call that only captured the 8-byte mux header instead of the full response.

## Changes

- **`tests/ecs_test.go`** — Removed unnecessary 5-second sleep. `ContainerStart` is synchronous and already ensures the container is running before returning. Changed `hijacked.Reader.Read(output)` to `io.ReadAll(hijacked.Reader)` to properly read the full mux-encoded exec response (matching the CloudRun/ACA test pattern).

## Result

- `TestECSContainerExec`: PASS (was FAIL)
- Exec runs while container is still within the 3s running window
- Falls back to synthetic exec (agent IP is non-routable in simulator)
