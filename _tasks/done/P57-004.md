# P57-004: Validation Matrix

## Completed
- **P57-004a**: Integration test expansion — 4 new scenarios added to `bleephub/test/run-integration.sh`:
  - TEST 3: Three-stage pipeline (build → test → deploy with `needs:` chain)
  - TEST 4: Matrix strategy (2x2: os × version)
  - TEST 5: Job output propagation (`$GITHUB_OUTPUT` → `needs.build.outputs.version`)
  - TEST 6: Service containers (redis sidecar)
- **P57-004b**: Complex workflow unit tests — `bleephub/workflows_complex_test.go`:
  - 3-stage pipeline completion sequence
  - 2x2 matrix expansion verification
  - Output propagation end-to-end
  - Diamond dependency with outputs
  - Root failure cascading to skip all dependents

## Files
- New: `bleephub/workflows_complex_test.go`
- Modified: `bleephub/test/run-integration.sh`
- Tests: 5 new unit tests, 4 new integration scenarios
