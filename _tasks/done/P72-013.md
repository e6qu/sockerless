# P72-013 — Central Arithmetic E2E Tests

**Status:** Complete
**Phase:** 72D (Central Multi-Backend E2E Tests)

## What Was Done

Created `tests/arithmetic_e2e_test.go` with 4 tests using `availableRunnerClients()`:

1. **TestArithmeticExecution** — shell `$((3 + 4 * 2))` → exit 0, logs contain "11"
2. **TestArithmeticNonZeroExit** — shell `exit 1` → exit code 1
3. **TestArithmeticExecInContainer** — exec `$((7 * 6))` in running container → output "42"
4. **TestArithmeticEvalBinary** — eval binary `(3 + 4) * 2` → exit 0, logs "14" (skips memory/WASM)

Modified `tests/main_test.go`:
- Added `evalBinaryPath` variable
- Added eval-arithmetic binary build step in TestMain (CGO_ENABLED=0, GOWORK=off)

Helper function `readLogs()` uses `stdcopy.StdCopy` for Docker log demux with retry (up to 10s).

## Test Results

- 65 PASS in `tests/` module (was 61, +4 new)
- All 3 shell arithmetic tests pass on memory backend (WASM)
- Eval binary test skips memory (WASM can't run native binaries)

## Files

- `tests/arithmetic_e2e_test.go` — NEW (4 tests)
- `tests/main_test.go` — MODIFIED (eval binary build)
