# P26-003: Fix attach handler — wait for process + forward stdin

**Status:** DONE
**Phase:** 26 — GitLab Real Execution + Upstream Multi-Backend Coverage

## Changes
- `backends/core/handle_containers.go`: Restructured `handleContainerAttach` else branch. Added poll-for-process pattern (100ms × 100 = 10s max wait) to handle attach-before-start ordering used by gitlab-runner. Added stdin forwarding goroutine from hijacked connection to `proc.StdinWriter()`. Fixed pre-existing errcheck lint issues in `mergeStagingDir`.
