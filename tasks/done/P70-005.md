# P70-005: AWS — Lambda DescribeLogStreams Ordering

**Component:** SIM (simulators/aws)
**Phase:** 70 — Milestone 1 (AWS Fidelity)
**Depends on:** P70-001
**Estimated effort:** S

---

## Description

Verify and fix `DescribeLogStreams` to support `OrderBy=LastEventTime`,
`Descending=true`, and `Limit=1` — the exact parameters the Lambda backend
sends in `logs.go:67`. The Lambda backend uses this to find the most recent
log stream for a function.

## Context

- Lambda backend `logs.go:67`: `DescribeLogStreams` with OrderBy, Descending, Limit
- P70-001 creates log streams for Lambda functions
- Current simulator may not sort streams by LastEventTime

## Acceptance Criteria

1. `DescribeLogStreams` accepts `orderBy` field (`LogStreamName` or `LastEventTime`)
2. When `orderBy=LastEventTime` and `descending=true`, streams are sorted by
   the timestamp of their most recent `PutLogEvents` call (newest first)
3. `limit` parameter caps the number of returned streams
4. With `limit=1` and `descending=true`, returns only the single most recent stream
5. SDK test: create multiple streams → put events at different times → describe
   with ordering → verify correct order

## Definition of Done

- [ ] `go build ./...` passes
- [ ] All existing SDK tests pass
- [ ] New SDK test passes
- [ ] PR created via `gh pr create`, CI passes, merged via `gh pr merge`

## Suggested File Paths

- `simulators/aws/cloudwatch.go` — fix `handleCWDescribeLogStreams`
- `simulators/aws/sdk-tests/cloudwatch_test.go` — add test

## Notes

- Track `LastEventTime` on the log stream struct (updated on PutLogEvents)
- `LastIngestionTime` should also be set (same timestamp is fine for simulator)
