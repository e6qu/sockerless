# P70-021: AWS ECS Real Execution ✅

**Component:** SIM (simulators/aws/)
**Phase:** 70 — Milestone 4 (Cross-Cloud)
**Depends on:** P70-020
**Completed:** 2026-02-28

## What Was Done

Wired ProcessRunner into ECS `RunTask` goroutine. Non-agent tasks with commands execute real processes, streaming stdout/stderr to CloudWatch via `cwLogSink`. Process completion transitions task to STOPPED with real exit code and `EssentialContainerExited` stop code. `StopTask` cancels running processes via `ecsProcessHandles` sync.Map. Tasks with no command stay RUNNING forever (matches real ECS behavior).

## Files

- **Modified**: `simulators/aws/ecs.go` — added `ecsProcessHandles`, `cwLogSink`, process execution in RunTask goroutine, cancel in StopTask
- **Modified**: `simulators/aws/sdk-tests/ecs_test.go` — 4 new tests + `ecsRunTaskHelper`

## Tests

8 ECS SDK tests PASS (4 existing + 4 new):
- `TestECS_TaskExecutesCommand`
- `TestECS_TaskExitCodeNonZero`
- `TestECS_TaskLogsToCloudWatch`
- `TestECS_TaskNoCommandStaysRunning`
