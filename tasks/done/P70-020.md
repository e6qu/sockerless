# P70-020: Shared ProcessRunner Engine ✅

**Component:** SIM (simulators/{aws,gcp,azure}/shared/)
**Phase:** 70 — Milestone 4 (Cross-Cloud)
**Completed:** 2026-02-28

## What Was Done

Created `ProcessConfig`, `LogLine`, `LogSink`, `ProcessResult`, `ProcessHandle` types and `StartProcess()` function in the shared simulator library. Non-blocking process launch with stdout/stderr streaming via `bufio.Scanner`, context-based cancellation and timeout, real exit codes via `cmd.ProcessState.ExitCode()`.

Includes `NoopSink` (discards output) and `FuncSink` (wraps callback) convenience types.

## Files

- **New**: `simulators/{aws,gcp,azure}/shared/process.go` (identical across 3 clouds)
- **New**: `simulators/{aws,gcp,azure}/shared/process_test.go` (identical across 3 clouds)

## Tests

5 unit tests × 3 clouds = 15 PASS:
- `TestStartProcess_CapturesOutput`
- `TestStartProcess_ExitCode`
- `TestStartProcess_Timeout`
- `TestStartProcess_Cancel`
- `TestStartProcess_Env`
